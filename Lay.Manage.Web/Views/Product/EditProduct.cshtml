@model Lay.Manage.Products.Dto.ProductDto
@{
    ViewBag.Title = "EditProduct";
}
@section styles{
    <link rel="stylesheet" href="@Url.Content("~/Content/plugins/select2/select2.min.css")" />
    <link href="@Url.Content("~/Content/plugins/daterangepicker/daterangepicker.css")" rel="stylesheet" />
}
<form class="form-horizontal" action="@Url.Action("CreateEditProduct")" method="post">
    @Html.AntiForgeryToken()
    <div class="box box-default">
        <div class="box-header with-border">
            <h3 class="box-title">基本信息</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                    <i class="fa fa-minus"></i>
                </button>
            </div>
            <!-- /.box-tools -->
        </div>
        <!-- /.box-header -->
        <div class="box-body" style="display: block;">
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">产品标题</label>
                <div class="col-sm-10">
                    <input class="form-control" id="Name" placeholder="Name" type="text" value="@Model.Name">
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">商品描述</label>
                <div class="col-sm-10">
                    @*<textarea class="form-control" rows="6" name="Descrition">@Model.Description</textarea>*@
                    @Html.TextAreaFor(a => a.Description, new { @class = "form-control", rows = 6 })
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">商品分类</label>
                <div class="col-sm-10">
                    <input type="hidden" name="CategoryId" id="CategoryId" value="@Model.CategoryId" />
                    <select class="form-control select2" id="category"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">打折变体</label>
                <div class="col-sm-10">
                    <select class="form-control select2" id="ColorType">
                        <option>option 1</option>
                        <option>option 2</option>
                        <option>option 3</option>
                        <option>option 4</option>
                        <option>option 5</option>
                    </select>
                </div>

            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">Support Email</label>
                <div class="col-sm-10">
                    @*<input class="form-control" name="Email" placeholder="Email" type="email" value="@Model.Email">*@
                    @Html.TextBoxFor(a=>a.Email,new {@class="form-control" })
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">Merchant ID</label>
                <div class="col-sm-10">
                    @*<input class="form-control" name="MerchantID" placeholder="" type="text" value="@Model.MerchantID">*@
                    @Html.TextBoxFor(a => a.MerchantID, new { @class = "form-control" })


                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">商品链接</label>
                <div class="col-sm-10">
                    @*<input class="form-control" name="Url" placeholder="" type="text" value="@Model.Url">*@
                    @Html.TextBoxFor(a => a.Url, new { @class = "form-control" })


                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">物流方式</label>
                <div class="col-sm-10">
                    <select class="form-control select2" id="WuliuType">
                        <option>option 1</option>
                        <option>option 2</option>
                    </select>

                </div>
            </div>
        </div>
        <!-- /.box-body -->
    </div>

    <div class="box box-default">
        <div class="box-header with-border">
            <h3 class="box-title">折扣信息</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                    <i class="fa fa-minus"></i>
                </button>
            </div>
            <!-- /.box-tools -->
        </div>
        <!-- /.box-header -->
        <div class="box-body" style="display: block;">
            <div class="form-group">
                <label class="col-sm-2 control-label">销售价</label>
                <div class="col-sm-10">
                    <div class="input-group">
                        @*<input class="form-control" type="text" name="SalesPrice" value="@Model.Cashback.SalesPrice">*@
                        @Html.TextBoxFor(a => a.Cashback.SalesPrice, new { @class = "form-control" })
                        @Html.HiddenFor(a => a.Cashback.Id)
                        <span class="input-group-addon">US</span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">折扣时间</label>
                <div class="col-sm-6">
                    <div class="input-group">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input class="form-control pull-right" id="reservation" type="text" v>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">折后价格</label>
                <div class="col-sm-10">
                    <div class="input-group">
                        @*<input class="form-control" type="text" name="Discount" value="@Model.Cashback.Discount">*@
                        @Html.TextBoxFor(a => a.Cashback.Discount, new { @class = "form-control" })


                        <span class="input-group-addon">US</span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">返现</label>
                <div class="col-sm-10">
                    <div class="input-group">
                        @*<input class="form-control" type="text" name="Price" value="@Model.Cashback.Price">*@
                        @Html.TextBoxFor(a => a.Cashback.Price, new { @class = "form-control" })


                        <span class="input-group-addon">US</span>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">买家应付</label>
                <div class="col-sm-10">
                 
                    @Html.LabelFor(a => a.Cashback.Pay)


                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">留评率</label>
                <div class="col-sm-10">
                    <div class="checkbox">
                        <label>
                            @*<input type="checkbox" name="IsComment" value="@Model.Cashback.IsComment" />*@
                            @Html.CheckBoxFor(a => a.Cashback.IsComment)


                            增强留评率
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.box-body -->
    </div>

    <div class="box box-default">
        <div class="box-header with-border">
            <h3 class="box-title">备注信息</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                    <i class="fa fa-minus"></i>
                </button>
            </div>
            <!-- /.box-tools -->
        </div>
        <!-- /.box-header -->
        <div class="box-body" style="display: block;">
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">变体备注</label>
                <div class="col-sm-10">
                    <input class="form-control" id="Url" placeholder="" type="text">
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">运输备注</label>
                <div class="col-sm-10">
                    <input class="form-control" id="Url" placeholder="" type="text">
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">买家备注</label>
                <div class="col-sm-10">
                    <input class="form-control" id="Url" placeholder="" type="text">
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">优惠备注</label>
                <div class="col-sm-10">
                    <input class="form-control" id="Url" placeholder="" type="text">
                </div>
            </div>
        </div>
        <!-- /.box-body -->


    </div>
    <input type="submit" value="提交" />
</form>
@section scripts{
    <script src="@Url.Content("~/Content/plugins/daterangepicker/daterangepicker.js")"></script>
    <script src="@Url.Content("~/Content/plugins/select2/select2.full.min.js")"></script>
    <script type="text/javascript">
        //Date range picker
        $('#reservation').daterangepicker();

        $(function () {
            var catetgory = abp.services.app.product;
            debugger;
            var data = {};
            catetgory.getCategoryList(data).done(function (data) {
                debugger;
                var result = data.items;
                $("#category").select2({
                    data:result
                });
                $("#category").select2('val','@Model.CategoryId');
                //result.each(function (key, val) {
                //    $("#category").val(key);
                //    $("#category").text(val);


                //})
            });


            var $eventSelect = $("#category");
            $eventSelect.on("change", function (e) {

                $("#categoryid").val($(this).select2("val"));
            });
        })
    </script>
}

